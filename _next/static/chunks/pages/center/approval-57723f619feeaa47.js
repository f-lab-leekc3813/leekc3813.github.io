(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{33855:function(a,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/center/approval",function(){return t(69037)}])},69037:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Approval}});var o=t(85893),l=t(87302),n=t.n(l),c=t(64713),r=t(84058),s=t.n(r);function ApprovalDetailPageUI(a){var e,t,l,n,c;return(0,o.jsxs)("div",{className:s().container,children:[(0,o.jsx)("div",{className:s().content,children:null===(e=a.farmData)||void 0===e?void 0:e.farm_name}),(0,o.jsx)("div",{className:s().content,children:null===(t=a.farmData)||void 0===t?void 0:t.farm_address}),(0,o.jsx)("div",{className:s().content,children:null===(l=a.farmData)||void 0===l?void 0:l.eco}),(0,o.jsxs)("div",{className:s().selectBox,children:[(0,o.jsx)("div",{className:s().select,children:null===(n=a.farmData)||void 0===n?void 0:n.kind}),(0,o.jsxs)("div",{className:s().select,children:[null===(c=a.farmData)||void 0===c?void 0:c.crop,"kg"]})]}),(0,o.jsxs)("div",{className:s().selectBox,children:[(0,o.jsx)("div",{onClick:a.onCLickApproval,className:s().select,children:"수락"}),(0,o.jsx)("div",{onClick:a.onClickRefuse,className:s().select,children:"거절"})]})]})}var i=t(6154),d=t(73107);function ApprovalDetailPage(a){let onCLickApproval=async()=>{try{let e=await i.Z.post("".concat(d._,"farm_product/update/"),{user_id:localStorage.getItem("id"),farm_product_id:a.farmData.id},{headers:{Authorization:localStorage.getItem("accesstoken")}});201===e.status?(alert("승인성공"),console.log("승인성공"),window.location.reload()):(alert("승인실패"),console.log("승인실패"))}catch(a){console.log("error",a)}},onClickRefuse=async()=>{try{let e=await i.Z.post("".concat(d._,"farm_product/delete/"),{user_id:localStorage.getItem("id"),farm_product_id:a.farmData.id},{headers:{Authorization:localStorage.getItem("accestoken")}});200===e.status?(alert("삭제성공"),console.log("삭제성공"),window.location.reload()):(alert("삭제실패"),console.log("삭제실패"))}catch(a){console.log("error",a)}};return(0,o.jsx)(ApprovalDetailPageUI,{farmData:a.farmData,onCLickApproval:onCLickApproval,onClickRefuse:onClickRefuse})}function ApprovalPageUI(a){var e;return(0,o.jsx)("div",{className:n().body,children:(0,o.jsxs)("div",{className:n().wrapper,children:[(0,o.jsx)("div",{className:n().title,children:"물품승인"}),(0,o.jsxs)(c.ZP.Group,{className:n().placement,value:a.placement,onChange:a.placementChange,children:[(0,o.jsx)(c.ZP.Button,{className:n().placementButton,value:"정읍",children:"정읍"}),(0,o.jsx)(c.ZP.Button,{className:n().placementButton,value:"고창",children:"고창"}),(0,o.jsx)(c.ZP.Button,{className:n().placementButton,value:"익산",children:"익산"}),(0,o.jsx)(c.ZP.Button,{className:n().placementButton,value:"아산",children:"아산"}),(0,o.jsx)(c.ZP.Button,{className:n().placementButton,value:"청주",children:"청주"})]}),(0,o.jsxs)("div",{className:n().detailContainer,children:[(0,o.jsxs)("div",{className:n().infoBox,children:[(0,o.jsx)("div",{className:n().infoContent,children:"농장이름"}),(0,o.jsx)("div",{className:n().infoContent,children:"농장주소"}),(0,o.jsx)("div",{className:n().infoContent,children:"농업방식"}),(0,o.jsx)("div",{className:n().infoContent,children:"종류"}),(0,o.jsx)("div",{className:n().infoContent,children:"비고"})]}),null===(e=a.farmData)||void 0===e?void 0:e.map(a=>(0,o.jsx)(ApprovalDetailPage,{farmData:a},a.id))]})]})})}var p=t(67294);function ApprovalPage(){let[a,e]=(0,p.useState)("정읍"),[t,l]=(0,p.useState)([]),fetchData=async()=>{try{let e=await i.Z.post("".concat(d._,"farm_product/read/"),{user_id:localStorage.getItem("id"),center:a},{headers:{Authorization:localStorage.getItem("accesstoken")}});l(e.data),console.log(e.data)}catch(a){console.log("error",a)}};return(0,p.useEffect)(()=>{fetchData()},[a]),(0,o.jsx)(ApprovalPageUI,{placement:a,placementChange:a=>{e(a.target.value)},farmData:t})}function Approval(){return(0,o.jsx)(ApprovalPage,{})}},87302:function(a){a.exports={body:"approval_body__Xea3E",wrapper:"approval_wrapper__rNY_9",title:"approval_title__Ltcp6",detailContainer:"approval_detailContainer__4aVI2",infoBox:"approval_infoBox__OMJXq",infoContent:"approval_infoContent__35epo"}},84058:function(a){a.exports={container:"approvalDetail_container__qM_EW",content:"approvalDetail_content__reb6W",selectBox:"approvalDetail_selectBox__IW6Ee",select:"approvalDetail_select__gOGQf"}}},function(a){a.O(0,[929,412,258,112,774,888,179],function(){return a(a.s=33855)}),_N_E=a.O()}]);