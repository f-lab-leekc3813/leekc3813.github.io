(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{28872:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm184.5 353.7l-178 246a7.95 7.95 0 01-12.9 0l-178-246c-3.8-5.3 0-12.7 6.5-12.7H381c10.2 0 19.9 4.9 25.9 13.2L512 563.6l105.2-145.4c6-8.3 15.6-13.2 25.9-13.2H690c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"down-circle",theme:"filled"}},17994:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"down-circle",theme:"outlined"}},35108:function(e,t,r){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return i}});var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(67294)),n=_interop_require_default(r(28872)),o=_interop_require_default(r(92074));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}var i=a.forwardRef(function(e,t){var r,i;return a.createElement(o.default,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){var a;a=r[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}({},e),i=i={ref:t,icon:n.default},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r.push.apply(r,a)}return r})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r))})},90340:function(e,t,r){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return i}});var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(67294)),n=_interop_require_default(r(17994)),o=_interop_require_default(r(92074));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}var i=a.forwardRef(function(e,t){var r,i;return a.createElement(o.default,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){var a;a=r[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}({},e),i=i={ref:t,icon:n.default},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r.push.apply(r,a)}return r})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r))})},50677:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/seller/harvest/[enroll]",function(){return r(15649)}])},15649:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Harvest}});var a=r(85893),n=r(6154),o=r(16303),i=r.n(o),c=r(35108),l=r(90340);function FarmlistPageUI(e){return(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsxs)("div",{className:i().leftBox,children:[(0,a.jsx)("span",{className:i().farmName,children:e.farmData.name}),(0,a.jsx)("span",{className:i().farmContent,children:e.farmData.mail_number}),(0,a.jsx)("span",{className:i().farmContent,children:"".concat(e.farmData.address," ").concat(e.farmData.address_detail)})]}),(0,a.jsx)("div",{className:i().rightBox,children:e.isClick?(0,a.jsx)(c.Z,{onClick:e.onClickIcon2,className:i().clickIcon}):(0,a.jsx)(l.Z,{onClick:e.onClickIcon,className:i().clickIcon})})]})}var s=r(67294),u=r(4480);let f=(0,u.cn)({key:"harvestState",default:""});function FarmlistPage(e){let[t,r]=(0,s.useState)(!1),[n,o]=(0,u.FV)(f);return(0,s.useEffect)(()=>{localStorage.setItem("harvest",e.farmData.id.toString()),o(e.farmData.id.toString())},[t]),(0,s.useEffect)(()=>{e.farmData.id.toString()!==n&&r(!1)},[n]),(0,a.jsx)(FarmlistPageUI,{farmData:e.farmData,onClickIcon:()=>{r(!0)},onClickIcon2:()=>{r(!1)},isClick:t})}var d=r(69959),p=r.n(d),_=r(64749);function HarvestPageUI(e){var t;return(0,a.jsx)("div",{className:p().body,children:(0,a.jsxs)("div",{className:p().wrappers,children:[(0,a.jsx)("span",{className:p().registerTitle,children:"내농장 목록"}),(0,a.jsx)("div",{className:p().farmContainer,children:null===(t=e.farmData)||void 0===t?void 0:t.map(e=>(0,a.jsx)(FarmlistPage,{farmData:e},e.id))}),e.errorData.farmId&&(0,a.jsx)("div",{className:p().error,children:"농장정보를 선택하세요."}),(0,a.jsxs)("div",{className:p().inputContainer,children:[(0,a.jsx)("span",{className:p().inputTitle,children:"농사기법"}),(0,a.jsx)(_.default,{onChange:t=>e.onChangeDetail("eco",t),style:{width:120},defaultValue:"",options:[{value:"유기농",label:"유기농"},{value:"무농약",label:"무농약"},{value:"일반",label:"일반"}]}),e.errorData.eco&&(0,a.jsx)("div",{className:p().error,children:"농사기법을 선택하세요."}),(0,a.jsx)("span",{className:p().inputTitle,children:"품종"}),(0,a.jsx)(_.default,{onChange:t=>e.onChangeDetail("crop",t),style:{width:120},defaultValue:"",options:[{value:"홍고추",label:"홍고추"},{value:"청양고추",label:"청양고추"},{value:"건고추",label:"건고추"}]}),e.errorData.crop&&(0,a.jsx)("div",{className:p().error,children:"품종을 선택하세요."}),(0,a.jsx)("span",{className:p().inputTitle,children:"수확량"}),(0,a.jsxs)("div",{className:p().box,children:[(0,a.jsx)(_.default,{onChange:t=>e.onChangeDetail("unitType",t),style:{width:120},defaultValue:"",options:[{value:"true",label:"kg"},{value:"false",label:"근"}]}),(0,a.jsx)("input",{onChange:t=>e.onChangeDetail("yield",t.target.value),className:p().mount,type:"text",placeholder:"수확량을 입력해주세요"})]}),e.errorData.yield&&(0,a.jsx)("div",{className:p().error,children:"수확량을 입력하세요."}),(0,a.jsx)("div",{className:p().submitBox,children:(0,a.jsx)("button",{onClick:e.onClickSubmit,className:p().submitButton,children:"등록하기"})})]})]})})}var m=r(11163),b=r(73107);function HarvestPage(){let e=(0,m.useRouter)(),[t,r]=(0,s.useState)([]),[o,i]=(0,u.FV)(f),[c,l]=(0,s.useState)({farmId:o,crop:"",eco:"",unitType:"",yield:""}),[d,p]=(0,s.useState)({farmId:!1,crop:!1,eco:!1,unit_type:!1,yield:!1}),fetchData=async()=>{try{let e=await n.Z.post("".concat(b._,"farms/read/"),{user_id:localStorage.getItem("id")});console.log(e.data),r(e.data)}catch(e){console.log("error",e)}};(0,s.useEffect)(()=>{fetchData()},[]);let onClickSubmit=async()=>{Object.keys(c).forEach(e=>{""===c[e]?p(t=>({...t,[e]:!0})):p(t=>({...t,[e]:!1}))});let t=Object.values(c).every(e=>""!==e.trim());if(t)try{let t=await n.Z.post("".concat(b._,"farm_product/create/"),{user_id:localStorage.getItem("id"),farm_id:localStorage.getItem("harvest"),eco:c.eco,kind:c.crop,crop:c.yield,unit_type:c.unitType});console.log(t),alert("등록성공"),e.push("/seller")}catch(e){console.log("error",e)}else alert("항목을 전부 채워주세요!")};return(0,a.jsx)(HarvestPageUI,{farmData:t,onChangeDetail:(e,t)=>{l(r=>({...r,[e]:t}))},errorData:d,onClickSubmit:onClickSubmit})}function Harvest(){return(0,a.jsx)(HarvestPage,{})}},16303:function(e){e.exports={container:"farmlist_container__PHrry",leftBox:"farmlist_leftBox__2Wtgc",farmName:"farmlist_farmName__DSJZJ",farmContent:"farmlist_farmContent__VAoBf",rightBox:"farmlist_rightBox__QXAwE",clickIcon:"farmlist_clickIcon__ocj3g"}},69959:function(e){e.exports={body:"harvest_body__Cqwfl",wrappers:"harvest_wrappers__7lFEs",registerTitle:"harvest_registerTitle__e0V1h",farmContainer:"harvest_farmContainer__YoI_k",inputContainer:"harvest_inputContainer__bcLbN",inputTitle:"harvest_inputTitle__KvQoX",box:"harvest_box__W8e8L",mount:"harvest_mount__pEG4o",submitBox:"harvest_submitBox__ek_cV",submitButton:"harvest_submitButton__rTqLq",error:"harvest_error__rmzMa"}}},function(e){e.O(0,[929,412,33,749,774,888,179],function(){return e(e.s=50677)}),_N_E=e.O()}]);