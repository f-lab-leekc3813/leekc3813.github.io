(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[594],{36028:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/center",function(){return t(59203)}])},59203:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Center}});var n=t(85893),s=t(36260),c=t.n(s),l=t(64713);function CenterPageUI(e){var a,t,s,i;return(0,n.jsxs)("div",{className:c().body,children:[(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsx)("div",{className:c().title,children:"품목현황"}),(0,n.jsxs)(l.ZP.Group,{className:c().placement,value:e.placement,onChange:e.placementChange,children:[(0,n.jsx)(l.ZP.Button,{className:c().placementButton,value:"전국",children:"전국"}),(0,n.jsx)(l.ZP.Button,{className:c().placementButton,value:"정읍",children:"정읍"}),(0,n.jsx)(l.ZP.Button,{className:c().placementButton,value:"고창",children:"고창"}),(0,n.jsx)(l.ZP.Button,{className:c().placementButton,value:"익산",children:"익산"}),(0,n.jsx)(l.ZP.Button,{className:c().placementButton,value:"아산",children:"아산"}),(0,n.jsx)(l.ZP.Button,{className:c().placementButton,value:"청주",children:"청주"})]}),(0,n.jsx)("div",{className:c().title,children:"홍고추"}),(0,n.jsx)("div",{className:c().contentBox,children:null===(a=e.sum)||void 0===a?void 0:a.map((e,a)=>"홍고추"===e.kind?(0,n.jsxs)("div",{className:c().contentInner,children:[(0,n.jsx)("div",{className:c().subTitle,children:e.eco}),(0,n.jsxs)("div",{className:c().weight,children:[e.total_crop,"kg"]})]},a):(0,n.jsx)("div",{}))}),(0,n.jsx)("div",{className:c().title,children:"청고추"}),(0,n.jsx)("div",{className:c().contentBox,children:null===(t=e.sum)||void 0===t?void 0:t.map((e,a)=>"청고추"===e.kind?(0,n.jsxs)("div",{className:c().contentInner,children:[(0,n.jsx)("div",{className:c().subTitle,children:e.eco}),(0,n.jsxs)("div",{className:c().weight,children:[e.total_crop,"kg"]})]},a):(0,n.jsx)("div",{}))}),(0,n.jsx)("div",{className:c().title,children:"건고추"}),(0,n.jsx)("div",{className:c().contentBox,children:null===(s=e.sum)||void 0===s?void 0:s.map((e,a)=>"건고추"===e.kind?(0,n.jsxs)("div",{className:c().contentInner,children:[(0,n.jsx)("div",{className:c().subTitle,children:e.eco}),(0,n.jsxs)("div",{className:c().weight,children:[e.total_crop,"kg"]})]},a):(0,n.jsx)("div",{}))}),(0,n.jsx)("div",{className:c().title,children:"고춧가루"}),(0,n.jsx)("div",{className:c().contentBox,children:(0,n.jsx)("div",{className:c().weight,children:"35kg"})})]}),(0,n.jsx)("div",{id:"map",className:c().maps}),(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsx)("div",{className:c().title,children:"농장등록현황"}),(0,n.jsxs)("div",{className:c().farmContainer,children:[(0,n.jsxs)("div",{className:c().farmInfoBox,children:[(0,n.jsx)("div",{className:c().farmInfo,children:"농장이름"}),(0,n.jsx)("div",{className:c().farmInfo,children:"농장주소"}),(0,n.jsx)("div",{className:c().farmInfo,children:"농경방법"})]}),null===(i=e.enrollData)||void 0===i?void 0:i.map(e=>(0,n.jsxs)("div",{className:c().farmInfoBox,children:[(0,n.jsx)("div",{className:c().farmContent,children:e.name}),(0,n.jsx)("div",{className:c().farmContent,children:e.address}),(0,n.jsx)("div",{className:c().farmContent,children:e.method})]}))]})]})]})}var i=t(67294),o=t(6154),r=t(73107);function CenterPage(){let[e,a]=(0,i.useState)(13),[t,s]=(0,i.useState)(35.9078),[c,l]=(0,i.useState)(127.7669),[d,m]=(0,i.useState)("전국"),[u,v]=(0,i.useState)([]),[h,_]=(0,i.useState)(""),[p,x]=(0,i.useState)([{name:"정읍",latitude:35.5631,longitude:126.8512},{name:"고창",latitude:35.4354,longitude:126.7108},{name:"익산",latitude:35.9457,longitude:126.9547},{name:"아산",latitude:36.792,longitude:127.0026},{name:"청주",latitude:36.6418,longitude:127.4855}]),[f,g]=(0,i.useState)([]),[j,N]=(0,i.useState)([]),fetchEnroll=async()=>{try{let a=await o.Z.post("".concat(r._,"farms/read/"),{user_id:localStorage.getItem("id"),center:d},{headers:{Authorization:localStorage.getItem("accesstoken")}});g(a.data),a.data;let t=document.createElement("script");t.async=!0,t.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e2d0f62bb57fb90b0596f6376a3fa842&autoload=false",document.head.appendChild(t);let n=document.getElementById("map");t.addEventListener("load",()=>{window.kakao.maps.load(()=>{var t={center:new window.kakao.maps.LatLng(35.9078,127.7669),level:e},s=new window.kakao.maps.Map(n,t);a.data.map(e=>{var a=new window.kakao.maps.LatLng(e.latitude,e.longitude),t=new window.kakao.maps.Marker({position:a,map:s}),n=new window.kakao.maps.InfoWindow({content:'<div style="padding:5px">'.concat(e.name,"</div>")}),c=!1;return window.kakao.maps.event.addListener(t,"click",function(){c?n.close():(n.open(s,t),_(e.name)),c=!c}),{marker:t,infowindow:n}})})})}catch(e){console.log("error",e)}},fetchSum=async()=>{try{let e=await o.Z.post("".concat(r._,"farm_product/center/"),{user_id:localStorage.getItem("id"),center:d},{headers:{Authorization:localStorage.getItem("accesstoken")}});N(e.data)}catch(e){console.log("error",e)}};return(0,i.useEffect)(()=>{fetchEnroll(),fetchSum()},[d]),(0,n.jsx)(CenterPageUI,{placement:d,placementChange:e=>{m(e.target.value),"전국"===e.target.value?(m("전국"),a(13)):"정읍"===e.target.value?(m("정읍"),a(13)):"고창"===e.target.value?(m("고창"),a(13)):"익산"===e.target.value?(m("익산"),a(13)):"아산"===e.target.value?(m("아산"),a(13)):"청주"===e.target.value?(m("청주"),a(13)):console.log("잘못된 주소")},enrollData:f,sum:j})}function Center(){return(0,n.jsx)(CenterPage,{})}},36260:function(e){e.exports={body:"center_body__w0TSG",maps:"center_maps__H8Fc_",container:"center_container__wWukK",title:"center_title__5Y0lg",placement:"center_placement__W97DB",placementButton:"center_placementButton__RBYg5",contentBox:"center_contentBox____Fp5",contentInner:"center_contentInner__4c_Es",subTitle:"center_subTitle__ShwFU",weight:"center_weight__cEapc",farmContainer:"center_farmContainer__EGfYw",farmInfoBox:"center_farmInfoBox__CdPW2",farmInfo:"center_farmInfo__DXXBS",farmContent:"center_farmContent__9DKzb"}}},function(e){e.O(0,[929,412,258,112,774,888,179],function(){return e(e.s=36028)}),_N_E=e.O()}]);