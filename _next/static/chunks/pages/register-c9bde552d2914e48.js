(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{47356:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"}},85317:function(e,t,r){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return o}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(67294)),i=_interop_require_default(r(47356)),a=_interop_require_default(r(92074));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}var o=n.forwardRef(function(e,t){var r,o;return n.createElement(a.default,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),o=o={ref:t,icon:i.default},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}),r))})},76276:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(18937)}])},18937:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Register}});var n=r(85893),i=r(11163),a=r(67294),o=r(4480),s=r(97098),c=r(953),l=r.n(c),u=r(85317);function RegisterPageUI(e){return(0,n.jsx)("div",{className:l().wrapper,children:(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsxs)("div",{className:"".concat(l().formContainer," ").concat(l().signInContainer),children:[(0,n.jsx)(u.Z,{onClick:e.onClickMoveHome,className:l().backIcon}),(0,n.jsxs)("div",{className:l().form,children:[e.isLogin?(0,n.jsx)("h1",{className:l().title,children:"로그인"}):(0,n.jsx)("h1",{className:l().title,children:"회원가입"}),e.isLogin?(0,n.jsx)("h1",{onClick:e.onClickLoginState,className:l().titleSub,children:"회원가입 하러가기"}):(0,n.jsx)("h1",{onClick:e.onClickLoginState,className:l().titleSub,children:"로그인 하러가기"}),(0,n.jsx)("div",{className:l().socialContainer}),!e.isLogin&&(0,n.jsx)("input",{value:e.nickName,onChange:e.onChangeNickName,className:l().input,type:"text",placeholder:"NickName"}),(0,n.jsx)("input",{value:e.email,onChange:e.onChangeEmail,className:l().input,type:"email",placeholder:"Email"}),(0,n.jsx)("input",{value:e.password,onChange:e.onChangePassword,className:l().input,type:"password",placeholder:"Password"}),e.isLogin?(0,n.jsx)("button",{onClick:e.submitLogin,className:l().button,children:"로그인"}):(0,n.jsx)("button",{onClick:e.submitRegister,className:l().button,children:"회원가입"})]})]}),(0,n.jsx)("div",{className:l().overlayContainer,children:(0,n.jsx)("div",{className:l().overlay,children:(0,n.jsxs)("div",{className:"".concat(l().overlayPanel," ").concat(l().overlayRight),children:[(0,n.jsx)("h1",{className:l().h1,children:"환영합니다!"}),e.isLogin?(0,n.jsx)("p",{className:l().p,children:"회원가입 하러가기"}):(0,n.jsx)("p",{className:l().p,children:"로그인 하러가기"}),(e.isLogin,(0,n.jsx)("button",{onClick:e.onClickLoginState,className:l().buttonWhite,children:"클릭!"}))]})})})]})})}var g=r(6154),_=r(73107);function RegisterPage(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(""),[c,l]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[f,d]=(0,a.useState)(!0),[h,m]=(0,o.FV)(s.PH),onClickLoginState=()=>{d(e=>!e)},submitLogin=async()=>{try{let t=await g.Z.post("".concat(_._,"users/login/"),{email:c,password:u});if(localStorage.setItem("nickname",t.data.user.nickname),localStorage.setItem("loginstate","true"),localStorage.setItem("id",t.data.user.id),localStorage.setItem("usertype",t.data.user.user_type),console.log(t),console.log(document.cookie),m(!0),"buyer"===localStorage.getItem("usertype")){e.push("/purchase");return}if("seller"===localStorage.getItem("usertype")){e.push("/seller");return}if("admin"===localStorage.getItem("usertype")){e.push("/center");return}}catch(e){console.log("error",e)}},submitRegister=async()=>{try{let e=await g.Z.post("".concat(_._,"users/register/"),{nickname:t,email:c,password:u,user_type:localStorage.getItem("userstate")});201===e.status&&(r(""),l(""),p(""),onClickLoginState())}catch(e){console.log(e,"error")}};return(0,n.jsx)(RegisterPageUI,{onChangeNickName:e=>{r(e.target.value)},onChangeEmail:e=>{l(e.target.value)},onChangePassword:e=>{p(e.target.value)},onClickLoginState:onClickLoginState,onClickMoveHome:()=>{e.push("/")},submitLogin:submitLogin,isLogin:f,nickName:t,email:c,password:u,submitRegister:submitRegister})}function Register(){return(0,n.jsx)(RegisterPage,{})}},953:function(e){e.exports={wrapper:"register_wrapper__WDK0M",h1:"register_h1__zrrmw",h2:"register_h2__2mLZY",p:"register_p__hvgzw",span:"register_span__cwBVy",a:"register_a__IJty_",button:"register_button__LrdMX",buttonWhite:"register_buttonWhite__42iA_",ghost:"register_ghost__sEZLE",form:"register_form__biU4d",title:"register_title__7hnSw",titleSub:"register_titleSub__zQVX_",input:"register_input__fHhwW",container:"register_container__wiHFJ",backIcon:"register_backIcon__u5WQT",formContainer:"register_formContainer__B_cGn",signInContainer:"register_signInContainer__zPc1P",rightPanelActive:"register_rightPanelActive__LWW7d",signUpContainer:"register_signUpContainer__eUIFK",show:"register_show__xY7iy",overlayContainer:"register_overlayContainer__3G3qf",overlay:"register_overlay__109Ll",overlayPanel:"register_overlayPanel__n_KO8",overlayLeft:"register_overlayLeft__dyxMZ",overlayRight:"register_overlayRight__8LcJg",socialContainer:"register_socialContainer__s2rNn","my-footer":"register_my-footer__KuKIl",footer:"register_footer__ULOiT",i:"register_i__Vd74s"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=76276)}),_N_E=e.O()}]);